<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
        <title>Hello</title>
    </head>

    <body></body>
    <script>
        const query = window.location.search.substring(1);
        const token = query.split("token_uri=")[1];

        fetch("https://googleapis.com/auth/userinfo.email", {
            headers: {
                Accept: "https://www.googleapis.com/oauth2/v1/certs+json",
                Authorization: "token" + token,
            },
        })
            .then((res) => res.json())
            .then((res) => {
                const nameNode = document.createTextNode(`Welcome, ${res.name}`);
                document.body.appendChild(nameNode);
            });
    </script>
</html>
